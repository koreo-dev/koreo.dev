apiVersion: koreo.dev/v1beta1
kind: FunctionTest
metadata:
  name: aws-environment-vpc-test
spec:
  functionRef:
    kind: ResourceFunction
    name: aws-environment-vpc
  inputs:
    metadata:
      name: test
      namespace: test-namespace
    resource_tags:
      tags:
      - key: test
        value: value
  testCases:
  - expectResource:
      apiVersion: ec2.services.k8s.aws/v1alpha1
      kind: VPC
      metadata:
        name: test
        namespace: test-namespace
      spec:
        cidrBlocks:
        - 10.0.0.0/16
        enableDNSHostnames: true
        enableDNSSupport: true
        tags:
        - key: test
          value: value
  - overlayResource:
      status:
        ownerID: 213412341
        vpcID: 123213323
    expectReturn:
      name: test
      vpc_account_id: 213412341
      vpc_id: 123213323


